$dhx.ui.mvp.presenters.declare({presenter:function(){"strict";var t={start:function(){var t=this;t.view;$dhx.debug.log("MAIN:PRESENTER: start from MAIN:PRESENTER")},destroy:function(){$dhx.debug.log("MAIN:PRESENTER: destroy from MAIN:PRESENTER")},sidebarOnSelectHandler:function(t,e){var s=$dhx.ui.mvp.presenters.get("presenter"),i=s.view;"/logout"==t&&s.do_logout(),"/logout"!=t&&(i._router.dispatch(t,!0),window.dhx4.callEvent("onSidebarSelect",[t,this.cells(t)])),window.screen.availWidth>1024&&i.toolbar.setItemText("title",window.dhx4.template("<img src='assets/icons/64/#image#' width='32' style='position:relative;float:left; margin-top:10px; margin-right: 10px;' /><span style='font-weight: bold; font-size: 14px;'>#text#</span>",{text:i.sidebar.cells(t).getText().text,image:i.sidebar.cells(t).getText().text.toLowerCase()+".png"}))},toolbarOnClickHandler:function(t){var e=$dhx.ui.mvp.presenters.get("presenter");e.view;"/logout"==t&&e.do_logout()},layoutOnExpandHandler:function(t){var e=$dhx.ui.mvp.presenters.get("presenter");e.view},do_logout:function(){var t=this;t.view;window.location.reload()},add_sidebar_buttons:function(){var t=this,e=t.view;e.sidebar.addItem({id:"/help",text:"Help",icon:"help.png"}),window.screen.availWidth<1024&&e.sidebar.addItem([{id:"sep10",type:"separator"},{id:"/logout",text:"Logout",icon:"logout.png"}])},adjust_to_mobile:function(){var t=this,e=t.view;try{window.screen.availWidth<1024?(e.layout.cells("b").setText("Stats"),e.layout.cells("b").collapse(),e.layout.cells("b").setText("Stats")):e.status_bar.setText("")}catch(s){console.log(s.stack)}},build_ui:function(){var t=this,e=t.view;$dhx.showDirections("Starting UI"),window.screen.availWidth>1024&&e._toolbar(),e.status_bar=e.sidebar.attachStatusBar(),t.add_sidebar_buttons(),e._layout(),t.adjust_to_mobile(),$dhx.hideDirections()},addBubble:function(t,e){var s=this,i=s.view,a=i.sidebar.cells(t).getBubble()||0;""===a&&(a=0),a=+a,a+=e,i.sidebar.cells(t).setBubble(a)},clearBubble:function(t){var e=this,s=e.view;s.sidebar.cells(t).clearBubble()},start_database:function(t){var e=this;e.view;$dhx.showDirections("Starting database ... ");var s={users:[],questions:[{id:1,question:"How do I post a job?",answer:"Answer text"},{id:2,question:"When will I get hired?",answer:"Answer text"},{id:3,question:"When will I get paid?",answer:"Answer text"}]};e.model.schema.set_start_data(s),e.model.schema.start({onSuccess:function(){try{t.onSuccess&&(e.build_ui(),t.onSuccess())}catch(s){console.log(s.stack)}}})}};return t}()});