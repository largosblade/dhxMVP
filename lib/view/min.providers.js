$dhx.ui.mvp.views.declare({providers:function(){"strict";var t="providers",e="providers",i=$dhx.ui.mvp.child_view.extend({}),o=new i({_settings:{layout:{pattern:"2U",cells:[{id:"a",text:"Providers Management"},{id:"b",text:"Select a provider first"}]},layout_servers:{pattern:"2E",cells:[{id:"a",text:"Listing servers"},{id:"b",text:"Select a provider first"}]},accordion:{icons_path:"",dnd:!0,items:[{id:"a",text:"Overall information",open:!0},{id:"b",text:"Servers information",open:!1}]},toolbar:{icon_path:"",items:[{id:"create",type:"button",img:"add.png",text:"Add new",tooltip:"Add new"},{id:"update",type:"button",img:"update.png",img_disabled:"update.png",text:"Update item",tooltip:"Update item",disabled:!0},{id:"destroy",type:"button",img:"delete.png",img_disabled:"delete.png",text:"Delete item",tooltip:"Delete item",disabled:!0}]},grid:{header:[],id:[],width:[],colAligns:[],colTypes:[]},toolbar_item:{icon_path:"",items:[{id:"text",type:"text",text:" "},{type:"spacer"},{id:"close",type:"button",img:"close.png",text:"close",tooltip:"Close job."}]},form:{template:[]},form_item:{template:[{type:"settings",position:"label-left",labelWidth:130,inputWidth:$dhx.ui.mvp.ui.isMobile?270:500,offsetLeft:10}]}},layout:null,toolbar:null,grid:null,form:null,accordion:null,toolbar_item:null,form_item:null,initialize:function(t){$dhx.debug.log("CHILD:VIEW:: called initialize from "+e+"_view.initialize")},destroy:function(){var t=this;console.log("called destroy from "+e+".view"),t.grid&&(t.grid.destructor(),t.grid=null),t.layout&&(t.layout.unload(),t.layout=null)},_layout:function(){var e=this;return null===e.layout&&(e.layout=e._wrapper.cells(t).attachLayout(e._settings.layout),e.layout.cells("a").setWidth(300),e.layout.cells("b").collapse()),e.layout},_toolbar:function(){var t=this;return null===t.toolbar&&(t._settings.toolbar.icons_path=t.icons_path,t.toolbar=t.layout.attachToolbar(t._settings.toolbar),t.toolbar.attachEvent("onClick",t.presenter.toolbarOnClickHandler)),t.toolbar},_grid:function(){var t=this,i=t.presenter.model.versions[1][e].defaults;if(null===t.grid){for(var o in i)t._settings.grid.id.push(o),t._settings.grid.header.push(i[o].ui.grid.header),t._settings.grid.width.push(i[o].ui.grid.width),t._settings.grid.colAligns.push(i[o].ui.grid.align),t._settings.grid.colTypes.push(i[o].ui.grid.coltype);t.grid=t.layout.cells("a").attachGrid(),t.grid.setHeader(t._settings.grid.header.join(",")),t.grid.setColumnIds(t._settings.grid.id.join(",")),t.grid.enableAutoWidth(!0),t.grid.setInitWidths(t._settings.grid.width.join(",")),t.grid.setColAlign(t._settings.grid.colAligns.join(",")),t.grid.setColTypes(t._settings.grid.colTypes.join(",")),t.grid.enableMultiline(!1),t.grid.setColumnHidden(t.grid.getColIndexById("description"),!0),t.grid.init(),t.grid.enableEditEvents(!1,!1,!1),$dhx.ui.data["static"].countries.forEach(function(e){t.grid.getCombo(t.grid.getColIndexById("country")).put(e.code,e.name+", "+e.dial_code)}),t.grid.attachEvent("onRowSelect",t.presenter.gridOnRowSelectHandler)}return t.grid},_accordion:function(){var t=this;return null===t.accordion&&(t._settings.accordion.icons_path=t.icons_path,t.accordion=t.layout.cells("b").attachAccordion(t._settings.accordion),t.accordion.attachEvent("onActive",function(e,i){"files"==e&&t.list_files()})),t.accordion.cells("a").open(),t.accordion},_toolbar_item:function(){var t=this;return null===t.toolbar_item&&(t._settings.toolbar_item.icons_path=t.icons_path,t.toolbar_item=t.accordion.attachToolbar(t._settings.toolbar_item),t.toolbar_item.attachEvent("onClick",t.presenter.toolbar_itemOnClickHandler)),t.toolbar_item},_form_item:function(t){var e,i=this;return null!==i.form_item&&(i.form_item.unload(),i.form_item=null),e=i.grid.getSelectedRowId(),i._settings.form_item.template=[{type:"settings",position:"label-left",labelWidth:250,offsetLeft:10}],i._settings.grid.id.forEach(function(e,o){var n=i._settings.grid.header[o],r=(i.grid.getColType(0),bold_text),l=t.get(e);$dhx.debug.log(e,l),"country"==e&&(l=i.grid.cells(t.get("id"),i.grid.getColIndexById("country")).getText()),"expiration"==e&&(l=new Date(l).toISOString(),r=moment_to),"__v"!=e&&"_id"!=e&&("string"==typeof l&&(l=l.replace(/\n/g,"<br>")),i._settings.form_item.template.push({type:"template",name:e,label:n+":",value:l,format:r}))}),i.form_item=i.accordion.cells("a").attachForm(i._settings.form_item.template),i.form_item.attachEvent("onButtonClick",function(t){}),i.form_item},_form:function(t,i){var o,n,r=this,l=r.presenter.model.versions[1][e].defaults;return null!==r.form&&(r.form.unload(),r.form=null),r._settings.form.template=[{type:"settings",position:"label-top",labelWidth:$dhx.ui.mvp.ui.isMobile?240:500,inputWidth:$dhx.ui.mvp.ui.isMobile?240:500,offsetLeft:10}],r.form=new $dhx.component.form({id:e+".form",parent:t,settings:r._settings.form,defaults:l}),r.form.action=i,r.form.attachEvent("onButtonClick",r.presenter.formOnButtonClickHandler),r.form.attachEvent("onEnter",r.presenter.formOnEnterHandler),o=r.form.getCombo("country"),o.allowFreeText(!1),o.enableAutocomplete(),o.enableFilteringMode(!0),o.addOption($dhx.ui.data["static"].countries.map(function(t){return[t.code,t.name+", "+t.dial_code]})),n=r.form.getCombo("status"),n.allowFreeText(!1),n.enableAutocomplete(),n.enableFilteringMode(!0),r.form},strWindowID:"dhxMVP."+e+".view.window.",window:null,window_status_bar:null,_window:function(){var t,e,i=this;return null===i.window&&(t=$dhx.ui.mvp.ui.isMobile?270:570,e=650,i.window=new $dhx.ui.mvp.ui.window({id:i.strWindowID,width:t,height:e}),i.window.centerOnScreen(),i.window.button("park").hide(),i.window.button("stick").hide(),i.window.attachEvent("onClose",function(t){return i.form.unload(),i.form=null,i.window=null,!0}),i.window_status_bar=i.window.attachStatusBar()),i.window},layout_servers:null,_layout_servers:function(){var t=this;return null===t.layout_servers&&(t.layout_servers=t.accordion.cells("b").attachLayout(t._settings.layout_servers),t.layout_servers.cells("b").collapse()),t.layout_servers},render:function(){var t=this;t._layout(),t._toolbar(),t._grid(),t.presenter.fill_grid()}});return o}()});